<!--?xml version="1.0" encoding="utf-8" standalone="no"?-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>Переключение css стилей "на лету"</title><meta name="generator" content="Bluefish 2.2.5"><meta name="keywords" content="Интернет-магазин VamShop, Установка, Настройка"><link rel="home" href="http://manual.vamshop.ru/index.html" title="Руководство пользователя VamShop"><link rel="up" href="http://manual.vamshop.ru/ch16.html" title="Глава 16. Работа с шаблонами"><link rel="prev" href="http://manual.vamshop.ru/ch16s02.html" title="Позиционирование блоков в шаблоне vamshop"><link rel="next" href="http://manual.vamshop.ru/ch16s04.html" title="Список разрешённых меток"></head><body><script async="" src="%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20css%20%D1%81%D1%82%D0%B8%D0%BB%D0%B5%D0%B9%20%27%D0%BD%D0%B0%20%D0%BB%D0%B5%D1%82%D1%83%27_files/analytics.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-207343-6', 'auto');
  ga('send', 'pageview');

</script>
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
var yaParams = {};
</script>

<div style="display:none;"><script type="text/javascript">
(function(w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter7882075 = new Ya.Metrika({id:7882075, enableAll: true,webvisor:true,ut:"noindex",params:window.yaParams||{ }});
        }
        catch(e) { }
    });
})(window, 'yandex_metrika_callbacks');
</script></div>
<script src="%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%BD%D0%B8%D0%B5%20css%20%D1%81%D1%82%D0%B8%D0%BB%D0%B5%D0%B9%20%27%D0%BD%D0%B0%20%D0%BB%D0%B5%D1%82%D1%83%27_files/watch.js" type="text/javascript" defer="defer"></script>
<noscript><div><img src="//mc.yandex.ru/watch/7882075" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter --><div class="navheader"><table summary="Navigation header" width="100%"><tbody><tr><th colspan="3" align="center">
Переключение css стилей "на лету"
</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="http://manual.vamshop.ru/ch16s02.html">Пред.</a>&nbsp;</td><th align="center" width="60%">Глава 16. 
Работа с шаблонами
</th><td align="right" width="20%">&nbsp;<a accesskey="n" href="http://manual.vamshop.ru/ch16s04.html">След.</a></td></tr></tbody></table><hr></div><div class="sect1" title="Переключение css стилей &quot;на лету&quot;"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp23058504"></a>
Переключение css стилей "на лету"
</h2></div></div></div><p>
В данном разделе я покажу, как с помощью библиотеки jQuery и css стилей 
можно сделать переключение внешнего вида магазина "на лету", т.е. 
внешний вид будет переключаться моментально, без каких-либо перезагрузок
 страницы.
</p><p>
Сразу покажу результат, что б было понятно о чём речь.
</p><p>
Посмотрите пример на http://vamhost.ru/demo, по центру, выберите один из
 стилей (default,style1,light,helius) и посмотрите, как изменится 
оформление магазина.
</p><p>
В данной статье будет использоваться библиотека jQuery, которая предустановлена в VamShop по умолчанию и модуль styleswitch.
</p><p>
Домашняя страница автора модуля: http://kelvinluck.com/article/switch-stylesheets-with-jquery
</p><p>
Итак, начнём:
</p><p>
1. Скачиваем файл 
http://www.kelvinluck.com/assets/jquery/styleswitch/styleswitch.js и 
переписываем его в папку магазина /jscript/jquery/plugins
</p><p>
2. Скачиваем доступные на данный момент стили в файлах, в разделе Стили - http://vamshop.ru/forum/files
</p><p>
Скачав стили, нам нужно переименовать файлы stylesheet.css в другие названия, что б имена файлов не повторялись.
</p><p>
Делаем следующее...
</p><p>
Стиль светленький:
</p><p>
Файл со стилями переименовываем в /templates/vamshop/light.css и записываем файл в магазин.
</p><p>
Стиль стиль1:
</p><p>
Файл со стилями переименовываем в /templates/vamshop/style1.css и записываем файл в магазин.
</p><p>
Стиль helius:
</p><p>
Файл со стилями переименовываем в /templates/vamshop/helius.css и записываем файл в магазин.
</p><p>
У нас будет 4 файла в папке /templates/vamshop:
</p><p>
stylesheet.css
</p><p>
light.css
</p><p>
style1.css
</p><p>
helius.css
</p><p>
3. Теперь открываем файл /includes/header.php и ищем следующую строку:
</p><pre class="programlisting">&lt;link rel="stylesheet" type="text/css" href="&lt;?php echo 'templates/'.CURRENT_TEMPLATE.'/stylesheet.css'; ?&gt;" /&gt;
</pre><p>
Меняем данную строку на:
</p><pre class="programlisting">&lt;link rel="stylesheet" type="text/css" href="&lt;?php echo 'templates/'.CURRENT_TEMPLATE.'/stylesheet.css'; ?&gt;" title="default" media="screen" /&gt;
&lt;link rel="alternate stylesheet" type="text/css" href="&lt;?php echo 'templates/'.CURRENT_TEMPLATE.'/style1.css'; ?&gt;" title="style1" media="screen" /&gt;
&lt;link rel="alternate stylesheet" type="text/css" href="&lt;?php echo 'templates/'.CURRENT_TEMPLATE.'/light.css'; ?&gt;" title="light" media="screen" /&gt;
&lt;link rel="alternate stylesheet" type="text/css" href="&lt;?php echo 'templates/'.CURRENT_TEMPLATE.'/helius.css'; ?&gt;" title="helius" media="screen" /&gt;
&lt;script type="text/javascript" src="jscript/jquery/jquery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="jscript/jquery/plugins/styleswitch.js"&gt;&lt;/script&gt;
</pre><p>
4. Открываем файл /templates/vamshop/index.html и ищем следующий код:
</p><pre class="programlisting">{$main_content}
</pre><p>
Перед данной строкой добавляем:
</p><pre class="programlisting">	&lt;p&gt;Выберите стиль (оформление) магазина:&lt;/p&gt;
	&lt;ul&gt;
		&lt;li&gt;&lt;a href="?style=default" rel="default" class="styleswitch"&gt;default&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href="?style=style1" rel="style1" class="styleswitch"&gt;style1&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href="?style=light" rel="light" class="styleswitch"&gt;light&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href="?style=helius" rel="helius" class="styleswitch"&gt;helius&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
</pre><p>
Вот и всё.
</p><p>
Рабочий пример того, что мы делали можно посмотреть на http://demo.vamhost.ru
</p><p>
По центру, выберите один из стилей (dafeult,style1,light,helius) и посмотрите, как изменится оформление магазина.
</p></div><div class="navfooter"><hr><table summary="Navigation footer" width="100%"><tbody><tr><td align="left" width="40%"><a accesskey="p" href="http://manual.vamshop.ru/ch16s02.html">Пред.</a>&nbsp;</td><td align="center" width="20%"><a accesskey="u" href="http://manual.vamshop.ru/ch16.html">Наверх</a></td><td align="right" width="40%">&nbsp;<a accesskey="n" href="http://manual.vamshop.ru/ch16s04.html">След.</a></td></tr><tr><td valign="top" align="left" width="40%">
Позиционирование блоков в шаблоне vamshop
&nbsp;</td><td align="center" width="20%"><a accesskey="h" href="http://manual.vamshop.ru/index.html">Начало</a></td><td valign="top" align="right" width="40%">&nbsp;
Список разрешённых меток
</td></tr></tbody></table></div>
</body></html>